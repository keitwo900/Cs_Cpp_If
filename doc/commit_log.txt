Commit履歴

--------------------------------------------------
22//
--------------------------------------------------

■主な変更点

■変更ファイル

--------------------------------------------------
22/04/16
--------------------------------------------------
・ネイティブコードの階層までI/Fを通した

■主な変更点
・ネイティブコードの階層までI/Fを通す環境にしました。

■追加ファイル
Cpp/Adder.c
Cpp/Adder.h
・ネイティブコードのソースコードです。
　※C++でもよいけど、よりネイティブにC言語のソースコードとしました。

Cs_Cpp_If/Form1.resx
・プロジェクト生成当初からありましたが、Gitに追加されていなかったので追加しました。

■変更ファイル
Cpp/Cpp.vcxproj
・プロジェクトの以下のプロパティを変更しました。
　・C/C++→全般→デバッグ情報の形式を、「ZI」から「Zi」に変更。(Cpp_CLRのビルドでWarning LNK4075が出るため。エディットコンティニュ機能は使用予定はない。)
　・C/C++→プリコンパイル済みヘッダー→プリコンパイル済みヘッダーを、「プリコンパイル済みヘッダーを使用しない」に変更
　・C/C++→詳細設定→コンパイル言語の選択を規定→TPに変更(C言語のソースコードでネイティブのlibを作成したため。C++のソースコードならこの変更は不要)

Cpp/Cpp.vcxproj.filters
・Cpp/Adder.c、Cpp/Adder.hをプロジェクトに追加しました。

Cpp_CLR/Cpp_CLR.cpp
・この階層で演算を行っていたのを、ネイティブコードの関数をコールするように変更しました。

Cpp_CLR/Cpp_CLR.vcxproj
・ネイティブコードのスタティックリンクライブラリCpp.libをリンクの入力に追加しました。(プロパティ→リンカー→入力→「追加の依存ファイル」に追加)

--------------------------------------------------
22/04/16
--------------------------------------------------
・CLR階層までI/Fを通した

■主な変更点
・C++ CLRの階層までI/Fを通しました。
　現在、C#のフォームに入力された値を、C++ CLRの階層で演算して返しています。
　まだネイティブコードまでつながっていません。

■変更ファイル
Cpp_CLR/Cpp_CLR.cpp
・加算処理のラッパ関数を追加しました。
　現在、仮でこのファイルで加算処理を行っています。
　このあと、ネイティブコードをコールするように変更していきます。
・タブをスペースに変換しました。

Cpp_CLR/Cpp_CLR.h
・加算処理のラッパ関数のメソッド定義を追加しました。
・タブをスペースに変換しました。

Cpp_CLR/Cpp_CLR.vcxproj
・MSIL モジュールが見つかりました。MSIL では
　インクリメンタル リンクは無効化されています。フル リンクを行います」という警告が出るので、
　プロパティー「リンカー」→「全般」→「インクリメンタルリンクを有効にする」→「いいえ(/INCREMENTAL:NO)」選択
　としました。

Cs_Cpp_If.sln
・ビルド構成にx64、x86を追加しました。
　(でもx86の構成しか使わないかも)

Cs_Cpp_If/Cs_Cpp_If.csproj
・ビルド構成用のプロジェクト構成で、x64、x86を追加しました。
・プロジェクトの参照に、Cpp_CLRプロジェクトを追加しました。

Cs_Cpp_If/Form1.Designer.cs
・足し算のUIを追加しました。

Cs_Cpp_If/Form1.cs
・UIで「加算実行」ボタンがクリックされると、C++ CLRのラッパに加算処理を行わせ、返ってきた結果をUIに表示する処理を追加しました。
・タブをスペースに変換しました。

--------------------------------------------------
22/04/16
--------------------------------------------------
・C#-C++インタフェースサンプルプロジェクト

■本プロジェクトについて
・本プロジェクトは、C#プロジェクトから、C++プロジェクト(またはC言語のぷリジェクト)の関数をコールできるようにする
　インタフェースのサンプルプロジェクトです。
　C++ CLRを介することで実現しています。

■追加ファイル
Cpp/Cpp.vcxproj
Cpp/Cpp.vcxproj.filters
Cpp/stdafx.cpp
Cpp/stdafx.h
Cpp/targetver.h
・C++(またはC言語)ネイティブコードのプロジェクトの関連ファイルです。

Cpp_CLR/AssemblyInfo.cpp
Cpp_CLR/Cpp_CLR.cpp
Cpp_CLR/Cpp_CLR.h
Cpp_CLR/Cpp_CLR.vcxproj
Cpp_CLR/Cpp_CLR.vcxproj.filters
Cpp_CLR/Resource.h
Cpp_CLR/app.ico
Cpp_CLR/app.rc
Cpp_CLR/stdafx.cpp
Cpp_CLR/stdafx.h
・C++ CLRプロジェクトの関連ファイルです。ネイティブコードをラッピングし、C#から使えるようにします。

doc/commit_log.txt
・本ファイルです。Gitでcommitした内容のログを取っていきます。

■変更ファイル
Cs_Cpp_If.sln
・Cpp_CLRプロジェクト、Cppプロジェクトをソリューションに追加しました。
